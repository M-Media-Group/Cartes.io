(self.webpackChunksite=self.webpackChunksite||[]).push([[832],{640:(t,e,a)=>{"use strict";var n=a(1742),i={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(t,e){var a,s,o,l,r,c,d=!1;e||(e={}),a=e.debug||!1;try{if(o=n(),l=document.createRange(),r=document.getSelection(),(c=document.createElement("span")).textContent=t,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),void 0===n.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var s=i[e.format]||i.default;window.clipboardData.setData(s,t)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,t);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))})),document.body.appendChild(c),l.selectNodeContents(c),r.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(n){a&&console.error("unable to copy using execCommand: ",n),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),d=!0}catch(n){a&&console.error("unable to copy using clipboardData: ",n),a&&console.error("falling back to prompt"),s=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(s,t)}}finally{r&&("function"==typeof r.removeRange?r.removeRange(l):r.removeAllRanges()),c&&document.body.removeChild(c),o()}return d}},8957:(t,e,a)=>{"use strict";a.d(e,{Z:()=>l});var n=a(4015),i=a.n(n),s=a(3645),o=a.n(s)()(i());o.push([t.id,"[contenteditable=true]{display:inline-block}","",{version:3,sources:["webpack://./resources/js/components/MapDetailsComponent.vue"],names:[],mappings:"AAuiBA,uBACA,oBACA",sourcesContent:['<template>\n  <div class="row">\n    <div class="col-md-7">\n      <h1\n        v-if="(!map || !map.title) && canEdit"\n        :contenteditable="canEdit"\n        @input="handleSelectInput($event, \'title\')"\n        class="w-100"\n      >\n        Here\'s your new map!<small v-if="canEdit" class="text-muted">\n          (Click to edit the title)</small\n        >\n      </h1>\n      <h1\n        v-else-if="submit_data.title"\n        :contenteditable="canEdit"\n        @input="handleSelectInput($event, \'title\')"\n        class="w-100"\n      >\n        {{ map.title }}\n      </h1>\n      <h1 v-else>Untitled map</h1>\n      <p\n        v-if="(!map || !map.description) && canEdit"\n        :contenteditable="canEdit"\n        @input="handleSelectInput($event, \'description\')"\n        style="white-space: pre-wrap"\n      >Right click (or long-tap on mobile) on the map to add markers. Click here to edit the map description.\n      </p>\n      <p\n        v-else-if="map && map.description"\n        :contenteditable="canEdit"\n        @input="handleSelectInput($event, \'description\')"\n        style="white-space: pre-wrap"\n        v-html="map.description"\n      ></p>\n      <p v-else>This map has no description.</p>\n    </div>\n    <div class="col-md-5 mt-5 mt-md-0">\n      <navigator-share\n        v-bind:on-error="onShareError"\n        v-bind:url="map_url"\n        v-bind:title="submit_data.title ? submit_data.title : \'Untitled map\'"\n        v-bind:text="\n          submit_data.description ? submit_data.description : \'Here\\\'s my map\'\n        "\n        class="mb-3"\n        ><a slot="clickable" class="btn btn-primary btn-lg btn-block"\n          >Share this map</a\n        ></navigator-share\n      >\n      <slot></slot>\n      <div\n        class="card bg-dark text-white mb-3"\n        v-if="canEdit"\n        key="map-settings"\n      >\n        <div\n          class="card-header"\n          data-toggle="collapse"\n          data-target="#settingsCollapse"\n          aria-expanded="false"\n          aria-controls="settingsCollapse"\n          style="cursor: pointer"\n        >\n          <i class="fa fa-cog"></i> Map settings\n        </div>\n        <div class="card-body collapse" id="settingsCollapse">\n          <div class="form-group row">\n            <label for="password-confirm" class="col-md-12 col-form-label"\n              >Who can see this map</label\n            >\n            <div class="col-md-12">\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="privacy"\n                  id="exampleRadios1"\n                  value="public"\n                  :checked="submit_data.privacy == \'public\' ? true : false"\n                  @input="handleSelectInput($event, \'privacy\')"\n                />\n                <label class="form-check-label" for="exampleRadios1">\n                  Everyone <small>(make this map public)</small>\n                </label>\n              </div>\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="privacy"\n                  id="exampleRadios2"\n                  value="unlisted"\n                  @input="handleSelectInput($event, \'privacy\')"\n                  :checked="submit_data.privacy == \'unlisted\' ? true : false"\n                />\n                <label class="form-check-label" for="exampleRadios2">\n                  Only people with a link\n                </label>\n              </div>\n              <div class="form-check disabled">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="privacy"\n                  id="exampleRadios3"\n                  value="private"\n                  disabled\n                  @input="handleSelectInput($event, \'privacy\')"\n                />\n                <label class="form-check-label" for="exampleRadios3">\n                  No one\n                </label>\n              </div>\n            </div>\n          </div>\n          <div class="form-group row">\n            <label\n              for="users_can_create_markers"\n              class="col-md-12 col-form-label"\n              >Who can create markers</label\n            >\n            <div class="col-md-12">\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="users_can_create_markers"\n                  id="exampleRadios4"\n                  value="yes"\n                  :checked="\n                    submit_data.users_can_create_markers == \'yes\' ? true : false\n                  "\n                  @input="handleSelectInput($event, \'users_can_create_markers\')"\n                />\n                <label class="form-check-label" for="exampleRadios4">\n                  Anyone\n                </label>\n              </div>\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="users_can_create_markers"\n                  id="exampleRadios5"\n                  value="only_logged_in"\n                  @input="handleSelectInput($event, \'users_can_create_markers\')"\n                  :checked="\n                    submit_data.users_can_create_markers == \'only_logged_in\'\n                      ? true\n                      : false\n                  "\n                />\n                <label class="form-check-label" for="exampleRadios5">\n                  Only people that are logged in\n                </label>\n              </div>\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="users_can_create_markers"\n                  id="exampleRadios6"\n                  value="no"\n                  @input="handleSelectInput($event, \'users_can_create_markers\')"\n                  :checked="\n                    submit_data.users_can_create_markers == \'no\' ? true : false\n                  "\n                />\n                <label class="form-check-label" for="exampleRadios6">\n                  No one\n                </label>\n              </div>\n              <small v-if="canEdit"\n                >You can add markers to your own map regardless of this\n                setting</small\n              >\n            </div>\n          </div>\n\n          <div class="form-group row">\n            <label for="password-confirm" class="col-md-12 col-form-label"\n              >When should new markers dissapear from the map</label\n            >\n            <div class="col-md-12">\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.default_expiration_time"\n                  id="cdet1"\n                  value="4320"\n                  v-model="submit_data.options.default_expiration_time"\n                />\n                <label class="form-check-label" for="cdet1">\n                  after 3 days\n                </label>\n              </div>\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.default_expiration_time"\n                  id="cdet2"\n                  value="180"\n                  v-model="submit_data.options.default_expiration_time"\n                />\n                <label class="form-check-label" for="cdet2">\n                  after 3 hours\n                </label>\n              </div>\n              <div class="form-check disabled">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.default_expiration_time"\n                  id="cdet3"\n                  :value="null"\n                  v-model="submit_data.options.default_expiration_time"\n                />\n                <label class="form-check-label" for="cdet3"> Never </label>\n              </div>\n            </div>\n          </div>\n\n          <div class="form-group row">\n            <label for="password-confirm" class="col-md-12 col-form-label"\n              >Where can markers be placed</label\n            >\n            <div class="col-md-12">\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.limit_to_geographical_body_type"\n                  id="cdet1"\n                  value="land"\n                  v-model="submit_data.options.limit_to_geographical_body_type"\n                />\n                <label class="form-check-label" for="cdet1">\n                  Only on land\n                </label>\n              </div>\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.limit_to_geographical_body_type"\n                  id="cdet2"\n                  value="water"\n                  v-model="submit_data.options.limit_to_geographical_body_type"\n                />\n                <label class="form-check-label" for="cdet2">\n                  Only on water\n                </label>\n              </div>\n              <div class="form-check disabled">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.limit_to_geographical_body_type"\n                  id="cdet3"\n                  :value="null"\n                  v-model="submit_data.options.limit_to_geographical_body_type"\n                />\n                <label class="form-check-label" for="cdet3"> Anywhere </label>\n              </div>\n              <small\n                >Setting this to "water" or "land" will also drastically limit\n                how many markers can be created on this map per minute</small\n              >\n            </div>\n          </div>\n\n          <div class="form-group row">\n            <label for="password-confirm" class="col-md-12 col-form-label"\n              >Are links allowed</label\n            >\n            <div class="col-md-12">\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.links"\n                  id="cdet1"\n                  value="required"\n                  v-model="submit_data.options.links"\n                />\n                <label class="form-check-label" for="cdet1"> Required </label>\n              </div>\n              <div class="form-check">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.links"\n                  id="cdet2"\n                  value="optional"\n                  v-model="submit_data.options.links"\n                />\n                <label class="form-check-label" for="cdet2"> Optional </label>\n              </div>\n              <div class="form-check disabled">\n                <input\n                  class="form-check-input"\n                  type="radio"\n                  name="options.links"\n                  id="cdet3"\n                  :value="null"\n                  v-model="submit_data.options.links"\n                />\n                <label class="form-check-label" for="cdet3"> Disabled </label>\n              </div>\n            </div>\n          </div>\n\n          <a\n            class="btn btn-danger btn-sm mt-3"\n            v-if="canEdit"\n            @click="deleteMap"\n            :disabled="submit_data.loading"\n            >Delete map</a\n          >\n        </div>\n      </div>\n      <p class="small">\n        Right click (or long-tap on mobile) on the map to create a marker. You\n        can choose one of the existing labels or create your own.\n      </p>\n      <p class="small mb-3" v-if="submit_data.options.default_expiration_time">\n        {{ submit_data.options.default_expiration_time / 60 }} hours after\n        creating a marker it will automatically dissapear from the map.\n      </p>\n      <div\n        v-if="map.categories"\n        class="d-flex mt-3"\n        style="flex-wrap: wrap; max-height: 30vh; overflow-x: scroll"\n      >\n        <a\n          href="#"\n          class="badge badge-secondary mr-1 mb-1"\n          v-for="category in map.categories"\n          :key="category.id"\n          >{{ category.name }}</a\n        >\n      </div>\n      <details class="mt-3 mb-3 small">\n        <summary>\n          <dt class="d-inline text-muted">Developer info</dt>\n        </summary>\n        <div>\n          <p>\n            Use standard API requests to get data from this map. No\n            authentication required for public and unlisted maps.\n            <a\n              href="https://github.com/M-Media-Group/Cartes.io/wiki/API"\n              rel="noopener"\n              target="_BLANK"\n              >Read the docs</a\n            >.\n          </p>\n          <div class="mb-3">\n            <p class="mb-0">API <code>GET</code> map endpoint</p>\n            <code>/api/maps/{{ map.uuid }}</code>\n          </div>\n          <div class="mb-3">\n            <p class="mb-0">API <code>GET</code> markers endpoint</p>\n            <code>/api/maps/{{ map.uuid }}/markers</code>\n          </div>\n          <div class="mb-3">\n            <p class="mb-0">Embed this map on your website</p>\n            <code\n              >&lt;iframe src="https://cartes.io/embeds/maps/{{\n                map.uuid\n              }}?type=map" width="100%" height="400"\n              frameborder="0">&lt;/iframe></code\n            >\n          </div>\n          <div class="mb-3">\n            <p class="mb-0">\n              Shortcode, using our\n              <a target="_BLANK" href="https://wordpress.org/plugins/cartes/"\n                >WordPress plugin</a\n              >\n            </p>\n            <code>[cartes_map uuid="{{ map.uuid }}"]</code>\n          </div>\n          <p>\n            When using the API or embedding the map, you must attribute this\n            website on your front-end.\n          </p>\n        </div>\n      </details>\n    </div>\n  </div>\n</template>\n<script lang="ts">\nimport NavigatorShare from "vue-navigator-share";\nimport * as copy from "copy-to-clipboard";\nimport axios from "axios";\n\nexport default {\n  props: ["map_id", "map_token", "map"],\n  components: {\n    NavigatorShare,\n  },\n  data() {\n    return {\n      submit_data: {\n        title: this.map.title,\n        description: this.map.description,\n        token: this.map_token,\n        privacy: this.map.privacy,\n        users_can_create_markers: this.map.users_can_create_markers,\n        loading: false,\n        options: {\n          default_expiration_time:\n            this.map.options && this.map.options.default_expiration_time\n              ? this.map.options.default_expiration_time\n              : null,\n          limit_to_geographical_body_type:\n            this.map.options && this.map.options.limit_to_geographical_body_type\n              ? this.map.options.limit_to_geographical_body_type\n              : null,\n          links:\n            this.map.options && this.map.options.links\n              ? this.map.options.links\n              : null,\n        },\n      },\n    };\n  },\n  mounted() {\n    if (localStorage["map_" + this.map_id] && !this.submit_data.token) {\n      this.submit_data.token = localStorage["map_" + this.map_id];\n    } else if (this.submit_data.token) {\n      localStorage["map_" + this.map_id] = this.submit_data.token;\n    }\n  },\n  computed: {\n    map_url() {\n      return window.location.href;\n    },\n    canEdit() {\n      return this.submit_data.token ? true : false;\n    },\n  },\n\n  watch: {\n    title: function (newQuestion, oldQuestion) {\n      this.submit_data.title = "Waiting for you to stop typing...";\n      this.debouncedGetAnswer();\n    },\n    // watch any changes ib submit_data.options\n    "submit_data.options": {\n      handler: function (newValue, oldValue) {\n        this.debouncedGetAnswer();\n      },\n      deep: true,\n    },\n  },\n  created: function () {\n    // _.debounce is a function provided by lodash to limit how\n    // often a particularly expensive operation can be run.\n    // In this case, we want to limit how often we access\n    // yesno.wtf/api, waiting until the user has completely\n    // finished typing before making the ajax request. To learn\n    // more about the _.debounce function (and its cousin\n    // _.throttle), visit: https://lodash.com/docs#debounce\n    this.debouncedGetAnswer = window._.debounce(this.submitForm, 950);\n  },\n  methods: {\n    onShareError(e) {\n      copy(this.map_url, {\n        message: "Press #{key} to copy",\n        onCopy: this.$notify({\n          type: "success",\n          title: "Link copied",\n          duration: 5000,\n        }),\n      });\n    },\n    handleSelectInput(val, type) {\n      if (type == "privacy" || type == "users_can_create_markers") {\n        this.submit_data[type] = val.target.value;\n      } else if (type == "options.default_expiration_time") {\n        this.submit_data.options.default_expiration_time = val.target.value;\n      } else if (type == "options.limit_to_geographical_body_type") {\n        this.submit_data.options.limit_to_geographical_body_type =\n          val.target.value;\n      } else {\n        this.submit_data[type] = val.target.innerText;\n      }\n      this.debouncedGetAnswer();\n    },\n    checkForLocalStorageKey(id) {\n      if (localStorage["map_" + id]) {\n        return true;\n      }\n      return false;\n    },\n    submitForm(event) {\n      this.submit_data.loading = true;\n      axios\n        .put("/api/maps/" + this.map_id, this.submit_data) // change this to post )\n        .then((res) => {\n          this.submit_data.loading = false;\n          this.$emit("map-update", res.data);\n        })\n        .catch((error) => {\n          this.submit_data.loading = false;\n          console.log(error);\n          let message = "";\n          if (error.response.data.errors) {\n            message = Object.entries(error.response.data.errors)\n              .map(\n                ([error_name, error_value], i) =>\n                  `${error_name}: ${error_value[0]} | `\n              )\n              .join("\\n");\n          } else {\n            message = error.response.data.message;\n          }\n          alert(message);\n        });\n    },\n    deleteMap(id) {\n      if (!confirm("You\'ll never see this map again. Are you sure?")) {\n        return;\n      }\n      this.submit_data.loading = true;\n      axios\n        .delete("/api/maps/" + this.map_id, {\n          data: { token: this.submit_data.token },\n        })\n        .then((res) => {\n          localStorage.removeItem("map_" + this.map_id);\n          alert("This map has gone with the wind!");\n          window.location.href = "/";\n          this.submit_data.loading = false;\n        })\n        .catch((error) => {\n          this.submit_data.loading = false;\n          //console.log(error);\n          alert(error.message);\n        });\n    },\n  },\n};\n<\/script>\n<style>\n*[contenteditable="true"] {\n  display: inline-block;\n}\n</style>\n'],sourceRoot:""}]);const l=o},1742:t=>{t.exports=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,a=[],n=0;n<t.rangeCount;n++)a.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||a.forEach((function(e){t.addRange(e)})),e&&e.focus()}}},832:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>_});const n={props:{title:String,text:String,url:{type:String,required:!0},onError:Function,onSuccess:Function},methods:{hasSlot(){return!!this.$slots.clickable},share(){const t={title:this.title,text:this.text,url:this.url};navigator.share?navigator.share(t).then((t=>{t&&this.onSuccess(t)})).catch((t=>{onError&&this.onError(t)})):this.onError&&this.onError("method not supported")}}};var i=a(1900);const s=(0,i.Z)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{on:{click:function(e){return t.share()}}},[t.hasSlot()?t._t("clickable"):a("p",[t._v("Share")])],2)}),[],!1,null,null,null).exports;var o=a(640),l=a(9669),r=a.n(l);const c={props:["map_id","map_token","map"],components:{NavigatorShare:s},data:function(){return{submit_data:{title:this.map.title,description:this.map.description,token:this.map_token,privacy:this.map.privacy,users_can_create_markers:this.map.users_can_create_markers,loading:!1,options:{default_expiration_time:this.map.options&&this.map.options.default_expiration_time?this.map.options.default_expiration_time:null,limit_to_geographical_body_type:this.map.options&&this.map.options.limit_to_geographical_body_type?this.map.options.limit_to_geographical_body_type:null,links:this.map.options&&this.map.options.links?this.map.options.links:null}}}},mounted:function(){localStorage["map_"+this.map_id]&&!this.submit_data.token?this.submit_data.token=localStorage["map_"+this.map_id]:this.submit_data.token&&(localStorage["map_"+this.map_id]=this.submit_data.token)},computed:{map_url:function(){return window.location.href},canEdit:function(){return!!this.submit_data.token}},watch:{title:function(t,e){this.submit_data.title="Waiting for you to stop typing...",this.debouncedGetAnswer()},"submit_data.options":{handler:function(t,e){this.debouncedGetAnswer()},deep:!0}},created:function(){this.debouncedGetAnswer=window._.debounce(this.submitForm,950)},methods:{onShareError:function(t){o(this.map_url,{message:"Press #{key} to copy",onCopy:this.$notify({type:"success",title:"Link copied",duration:5e3})})},handleSelectInput:function(t,e){"privacy"==e||"users_can_create_markers"==e?this.submit_data[e]=t.target.value:"options.default_expiration_time"==e?this.submit_data.options.default_expiration_time=t.target.value:"options.limit_to_geographical_body_type"==e?this.submit_data.options.limit_to_geographical_body_type=t.target.value:this.submit_data[e]=t.target.innerText,this.debouncedGetAnswer()},checkForLocalStorageKey:function(t){return!!localStorage["map_"+t]},submitForm:function(t){var e=this;this.submit_data.loading=!0,r().put("/api/maps/"+this.map_id,this.submit_data).then((function(t){e.submit_data.loading=!1,e.$emit("map-update",t.data)})).catch((function(t){e.submit_data.loading=!1,console.log(t);var a="";a=t.response.data.errors?Object.entries(t.response.data.errors).map((function(t,e){var a=t[0],n=t[1];return"".concat(a,": ").concat(n[0]," | ")})).join("\n"):t.response.data.message,alert(a)}))},deleteMap:function(t){var e=this;confirm("You'll never see this map again. Are you sure?")&&(this.submit_data.loading=!0,r().delete("/api/maps/"+this.map_id,{data:{token:this.submit_data.token}}).then((function(t){localStorage.removeItem("map_"+e.map_id),alert("This map has gone with the wind!"),window.location.href="/",e.submit_data.loading=!1})).catch((function(t){e.submit_data.loading=!1,alert(t.message)})))}}};var d=a(3379),p=a.n(d),m=a(8957),u={insert:"head",singleton:!1};p()(m.Z,u);m.Z.locals;const _=(0,i.Z)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-7"},[t.map&&t.map.title||!t.canEdit?t.submit_data.title?a("h1",{staticClass:"w-100",attrs:{contenteditable:t.canEdit},on:{input:function(e){return t.handleSelectInput(e,"title")}}},[t._v("\n      "+t._s(t.map.title)+"\n    ")]):a("h1",[t._v("Untitled map")]):a("h1",{staticClass:"w-100",attrs:{contenteditable:t.canEdit},on:{input:function(e){return t.handleSelectInput(e,"title")}}},[t._v("\n      Here's your new map!"),t.canEdit?a("small",{staticClass:"text-muted"},[t._v("\n        (Click to edit the title)")]):t._e()]),t._v(" "),t.map&&t.map.description||!t.canEdit?t.map&&t.map.description?a("p",{staticStyle:{"white-space":"pre-wrap"},attrs:{contenteditable:t.canEdit},domProps:{innerHTML:t._s(t.map.description)},on:{input:function(e){return t.handleSelectInput(e,"description")}}}):a("p",[t._v("This map has no description.")]):a("p",{staticStyle:{"white-space":"pre-wrap"},attrs:{contenteditable:t.canEdit},on:{input:function(e){return t.handleSelectInput(e,"description")}}},[t._v("Right click (or long-tap on mobile) on the map to add markers. Click here to edit the map description.\n    ")])]),t._v(" "),a("div",{staticClass:"col-md-5 mt-5 mt-md-0"},[a("navigator-share",{staticClass:"mb-3",attrs:{"on-error":t.onShareError,url:t.map_url,title:t.submit_data.title?t.submit_data.title:"Untitled map",text:t.submit_data.description?t.submit_data.description:"Here's my map"}},[a("a",{staticClass:"btn btn-primary btn-lg btn-block",attrs:{slot:"clickable"},slot:"clickable"},[t._v("Share this map")])]),t._v(" "),t._t("default"),t._v(" "),t.canEdit?a("div",{key:"map-settings",staticClass:"card bg-dark text-white mb-3"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body collapse",attrs:{id:"settingsCollapse"}},[a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-12 col-form-label",attrs:{for:"password-confirm"}},[t._v("Who can see this map")]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"privacy",id:"exampleRadios1",value:"public"},domProps:{checked:"public"==t.submit_data.privacy},on:{input:function(e){return t.handleSelectInput(e,"privacy")}}}),t._v(" "),t._m(1)]),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"privacy",id:"exampleRadios2",value:"unlisted"},domProps:{checked:"unlisted"==t.submit_data.privacy},on:{input:function(e){return t.handleSelectInput(e,"privacy")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios2"}},[t._v("\n                Only people with a link\n              ")])]),t._v(" "),a("div",{staticClass:"form-check disabled"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"privacy",id:"exampleRadios3",value:"private",disabled:""},on:{input:function(e){return t.handleSelectInput(e,"privacy")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios3"}},[t._v("\n                No one\n              ")])])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-12 col-form-label",attrs:{for:"users_can_create_markers"}},[t._v("Who can create markers")]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"users_can_create_markers",id:"exampleRadios4",value:"yes"},domProps:{checked:"yes"==t.submit_data.users_can_create_markers},on:{input:function(e){return t.handleSelectInput(e,"users_can_create_markers")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios4"}},[t._v("\n                Anyone\n              ")])]),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"users_can_create_markers",id:"exampleRadios5",value:"only_logged_in"},domProps:{checked:"only_logged_in"==t.submit_data.users_can_create_markers},on:{input:function(e){return t.handleSelectInput(e,"users_can_create_markers")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios5"}},[t._v("\n                Only people that are logged in\n              ")])]),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{staticClass:"form-check-input",attrs:{type:"radio",name:"users_can_create_markers",id:"exampleRadios6",value:"no"},domProps:{checked:"no"==t.submit_data.users_can_create_markers},on:{input:function(e){return t.handleSelectInput(e,"users_can_create_markers")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios6"}},[t._v("\n                No one\n              ")])]),t._v(" "),t.canEdit?a("small",[t._v("You can add markers to your own map regardless of this\n              setting")]):t._e()])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-12 col-form-label",attrs:{for:"password-confirm"}},[t._v("When should new markers dissapear from the map")]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.default_expiration_time,expression:"submit_data.options.default_expiration_time"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.default_expiration_time",id:"cdet1",value:"4320"},domProps:{checked:t._q(t.submit_data.options.default_expiration_time,"4320")},on:{change:function(e){return t.$set(t.submit_data.options,"default_expiration_time","4320")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet1"}},[t._v("\n                after 3 days\n              ")])]),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.default_expiration_time,expression:"submit_data.options.default_expiration_time"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.default_expiration_time",id:"cdet2",value:"180"},domProps:{checked:t._q(t.submit_data.options.default_expiration_time,"180")},on:{change:function(e){return t.$set(t.submit_data.options,"default_expiration_time","180")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet2"}},[t._v("\n                after 3 hours\n              ")])]),t._v(" "),a("div",{staticClass:"form-check disabled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.default_expiration_time,expression:"submit_data.options.default_expiration_time"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.default_expiration_time",id:"cdet3"},domProps:{value:null,checked:t._q(t.submit_data.options.default_expiration_time,null)},on:{change:function(e){return t.$set(t.submit_data.options,"default_expiration_time",null)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet3"}},[t._v(" Never ")])])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-12 col-form-label",attrs:{for:"password-confirm"}},[t._v("Where can markers be placed")]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.limit_to_geographical_body_type,expression:"submit_data.options.limit_to_geographical_body_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.limit_to_geographical_body_type",id:"cdet1",value:"land"},domProps:{checked:t._q(t.submit_data.options.limit_to_geographical_body_type,"land")},on:{change:function(e){return t.$set(t.submit_data.options,"limit_to_geographical_body_type","land")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet1"}},[t._v("\n                Only on land\n              ")])]),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.limit_to_geographical_body_type,expression:"submit_data.options.limit_to_geographical_body_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.limit_to_geographical_body_type",id:"cdet2",value:"water"},domProps:{checked:t._q(t.submit_data.options.limit_to_geographical_body_type,"water")},on:{change:function(e){return t.$set(t.submit_data.options,"limit_to_geographical_body_type","water")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet2"}},[t._v("\n                Only on water\n              ")])]),t._v(" "),a("div",{staticClass:"form-check disabled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.limit_to_geographical_body_type,expression:"submit_data.options.limit_to_geographical_body_type"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.limit_to_geographical_body_type",id:"cdet3"},domProps:{value:null,checked:t._q(t.submit_data.options.limit_to_geographical_body_type,null)},on:{change:function(e){return t.$set(t.submit_data.options,"limit_to_geographical_body_type",null)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet3"}},[t._v(" Anywhere ")])]),t._v(" "),a("small",[t._v('Setting this to "water" or "land" will also drastically limit\n              how many markers can be created on this map per minute')])])]),t._v(" "),a("div",{staticClass:"form-group row"},[a("label",{staticClass:"col-md-12 col-form-label",attrs:{for:"password-confirm"}},[t._v("Are links allowed")]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.links,expression:"submit_data.options.links"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.links",id:"cdet1",value:"required"},domProps:{checked:t._q(t.submit_data.options.links,"required")},on:{change:function(e){return t.$set(t.submit_data.options,"links","required")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet1"}},[t._v(" Required ")])]),t._v(" "),a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.links,expression:"submit_data.options.links"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.links",id:"cdet2",value:"optional"},domProps:{checked:t._q(t.submit_data.options.links,"optional")},on:{change:function(e){return t.$set(t.submit_data.options,"links","optional")}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet2"}},[t._v(" Optional ")])]),t._v(" "),a("div",{staticClass:"form-check disabled"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.submit_data.options.links,expression:"submit_data.options.links"}],staticClass:"form-check-input",attrs:{type:"radio",name:"options.links",id:"cdet3"},domProps:{value:null,checked:t._q(t.submit_data.options.links,null)},on:{change:function(e){return t.$set(t.submit_data.options,"links",null)}}}),t._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"cdet3"}},[t._v(" Disabled ")])])])]),t._v(" "),t.canEdit?a("a",{staticClass:"btn btn-danger btn-sm mt-3",attrs:{disabled:t.submit_data.loading},on:{click:t.deleteMap}},[t._v("Delete map")]):t._e()])]):t._e(),t._v(" "),a("p",{staticClass:"small"},[t._v("\n      Right click (or long-tap on mobile) on the map to create a marker. You\n      can choose one of the existing labels or create your own.\n    ")]),t._v(" "),t.submit_data.options.default_expiration_time?a("p",{staticClass:"small mb-3"},[t._v("\n      "+t._s(t.submit_data.options.default_expiration_time/60)+" hours after\n      creating a marker it will automatically dissapear from the map.\n    ")]):t._e(),t._v(" "),t.map.categories?a("div",{staticClass:"d-flex mt-3",staticStyle:{"flex-wrap":"wrap","max-height":"30vh","overflow-x":"scroll"}},t._l(t.map.categories,(function(e){return a("a",{key:e.id,staticClass:"badge badge-secondary mr-1 mb-1",attrs:{href:"#"}},[t._v(t._s(e.name))])})),0):t._e(),t._v(" "),a("details",{staticClass:"mt-3 mb-3 small"},[t._m(2),t._v(" "),a("div",[t._m(3),t._v(" "),a("div",{staticClass:"mb-3"},[t._m(4),t._v(" "),a("code",[t._v("/api/maps/"+t._s(t.map.uuid))])]),t._v(" "),a("div",{staticClass:"mb-3"},[t._m(5),t._v(" "),a("code",[t._v("/api/maps/"+t._s(t.map.uuid)+"/markers")])]),t._v(" "),a("div",{staticClass:"mb-3"},[a("p",{staticClass:"mb-0"},[t._v("Embed this map on your website")]),t._v(" "),a("code",[t._v('<iframe src="https://cartes.io/embeds/maps/'+t._s(t.map.uuid)+'?type=map" width="100%" height="400"\n            frameborder="0"></iframe>')])]),t._v(" "),a("div",{staticClass:"mb-3"},[t._m(6),t._v(" "),a("code",[t._v('[cartes_map uuid="'+t._s(t.map.uuid)+'"]')])]),t._v(" "),a("p",[t._v("\n          When using the API or embedding the map, you must attribute this\n          website on your front-end.\n        ")])])])],2)])}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{cursor:"pointer"},attrs:{"data-toggle":"collapse","data-target":"#settingsCollapse","aria-expanded":"false","aria-controls":"settingsCollapse"}},[a("i",{staticClass:"fa fa-cog"}),t._v(" Map settings\n      ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"form-check-label",attrs:{for:"exampleRadios1"}},[t._v("\n                Everyone "),a("small",[t._v("(make this map public)")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("summary",[a("dt",{staticClass:"d-inline text-muted"},[t._v("Developer info")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[t._v("\n          Use standard API requests to get data from this map. No\n          authentication required for public and unlisted maps.\n          "),a("a",{attrs:{href:"https://github.com/M-Media-Group/Cartes.io/wiki/API",rel:"noopener",target:"_BLANK"}},[t._v("Read the docs")]),t._v(".\n        ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"mb-0"},[t._v("API "),a("code",[t._v("GET")]),t._v(" map endpoint")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"mb-0"},[t._v("API "),a("code",[t._v("GET")]),t._v(" markers endpoint")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"mb-0"},[t._v("\n            Shortcode, using our\n            "),a("a",{attrs:{target:"_BLANK",href:"https://wordpress.org/plugins/cartes/"}},[t._v("WordPress plugin")])])}],!1,null,null,null).exports}}]);
//# sourceMappingURL=832.js.map