{"version":3,"file":"js/649.js","mappings":"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","sources":["webpack://site/./resources/js/components/ApiDataTransformerComponent.vue?ef90","webpack://site/./node_modules/vue-loader/lib/index.js","webpack://site/./resources/js/components/ApiDataTransformerComponent.vue?ff5d","webpack://site/./resources/js/components/ApiDataTransformerComponent.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mt-5 mt-md-0\"},[_c('div',{key:\"map-settings\",staticClass:\"card bg-dark text-white mb-3\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"card-body collapse\",attrs:{\"id\":\"settingsImportCollapse\"}},[_c('div',{staticClass:\"form\"},[_c('div',{staticClass:\"form-group mx-sm-3 mb-2\"},[_c('label',{staticClass:\"sr-only\",attrs:{\"for\":\"inputPassword2\"}},[_vm._v(\"API Endpoint\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.endpoint),expression:\"endpoint\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"API Endpoint\"},domProps:{\"value\":(_vm.endpoint)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.endpoint=$event.target.value}}})]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary mb-2\",attrs:{\"type\":\"url\"},on:{\"click\":function($event){return _vm.getData()}}},[_vm._v(\"\\n            Fetch JSON data\\n          \")])]),_vm._v(\" \"),(_vm.is_valid)?_c('div',{staticClass:\"alert alert-success\"},[_vm._v(\"All good\")]):_vm._e(),_vm._v(\" \"),_c('details',{staticClass:\"mt-3 mb-3\"},[_vm._m(1),_vm._v(\" \"),_c('div',[_c('pre',{staticClass:\"text-white small\"},[_c('code',[_vm._v(_vm._s(_vm.first_data_point))])])])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('details',{staticClass:\"mt-3 mb-3\"},[_vm._m(2),_vm._v(\" \"),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.container),expression:\"transform_parameters.container\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Container\"},domProps:{\"value\":(_vm.transform_parameters.container)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters, \"container\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.id),expression:\"transform_parameters.id\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Marker ID\"},domProps:{\"value\":(_vm.transform_parameters.id)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters, \"id\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.location.lat),expression:\"transform_parameters.location.lat\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Location LAT\"},domProps:{\"value\":(_vm.transform_parameters.location.lat)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters.location, \"lat\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.location.lng),expression:\"transform_parameters.location.lng\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Location LNG\"},domProps:{\"value\":(_vm.transform_parameters.location.lng)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters.location, \"lng\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.category_name),expression:\"transform_parameters.category_name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Category name\"},domProps:{\"value\":(_vm.transform_parameters.category_name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters, \"category_name\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.created_at),expression:\"transform_parameters.created_at\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Created at\"},domProps:{\"value\":(_vm.transform_parameters.created_at)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters, \"created_at\", $event.target.value)}}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.transform_parameters.updated_at),expression:\"transform_parameters.updated_at\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"inputPassword2\",\"placeholder\":\"Updated at\"},domProps:{\"value\":(_vm.transform_parameters.updated_at)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.transform_parameters, \"updated_at\", $event.target.value)}}})])]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('details',{staticClass:\"mt-3 mb-3\"},[_vm._m(3),_vm._v(\" \"),_c('div',[_c('pre',{staticClass:\"text-white small\"},[(_vm.transformed_data)?_c('code',[_vm._v(_vm._s(_vm.transformed_data[0]))]):_vm._e()])])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-header\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"collapse\",\"data-target\":\"#settingsImportCollapse\",\"aria-expanded\":\"false\",\"aria-controls\":\"settingsImportCollapse\"}},[_c('i',{staticClass:\"fa fa-cog\"}),_vm._v(\" Data importer\\n      \")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('summary',[_c('dt',{staticClass:\"d-inline\"},[_vm._v(\"Incoming request\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('summary',[_c('dt',{staticClass:\"d-inline\"},[_vm._v(\"Data transforming/mapping tools\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('summary',[_c('dt',{staticClass:\"d-inline\"},[_vm._v(\"Transformed request\")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport axios from \"axios\";\nimport Vue from \"vue\";\n\nexport default {\n  props: [\"map_id\", \"map_token\", \"map\"],\n  components: {},\n  data() {\n    return {\n      endpoint:\n        \"https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_month.geojson\",\n      fetched_data: null,\n      transform_parameters: {\n        container: \"features\",\n        location: {\n          lng: \"geometry.coordinates.1\",\n          lat: \"geometry.coordinates.0\",\n        },\n        category_name: \"properties.title\",\n        id: \"id\",\n        created_at: \"properties.time\",\n        updated_at: \"properties.updated\",\n      },\n    };\n  },\n  mounted() {},\n  computed: {\n    first_data_point() {\n      if (!this.transformed_data_post_container) {\n        return null;\n      }\n      return this.transformed_data_post_container[0];\n    },\n    transformed_data_post_container() {\n      if (!this.fetched_data || this.fetched_data.length < 1) {\n        return null;\n      }\n      var data_to_return = null;\n      if (!this.transform_parameters.container) {\n        var data_to_return = this.fetched_data;\n      } else {\n        if (\n          !this.fetched_data ||\n          !this.fetched_data[this.transform_parameters.container]\n        ) {\n          return null;\n        }\n        var data_to_return =\n          this.fetched_data[this.transform_parameters.container];\n      }\n      if (!Array.isArray(data_to_return)) {\n        return data_to_return;\n      }\n      return data_to_return.slice(0, 1000);\n    },\n    transformed_data() {\n      if (\n        !this.fetched_data ||\n        !this.transform_parameters.created_at ||\n        !this.transform_parameters.updated_at\n      ) {\n        return null;\n      }\n      var data_to_return = this.transformed_data_post_container;\n\n      if (\n        !data_to_return ||\n        data_to_return.length < 1 ||\n        !Array.isArray(data_to_return)\n      ) {\n        return null;\n      }\n\n      var map1 = data_to_return.map((x) => {\n        // \"id\": 1040,\n        // console.log(x);\n        return {\n          id: this.resolve(this.transform_parameters.id, x),\n          location: {\n            type: \"Point\",\n            coordinates: [\n              this.resolve(this.transform_parameters.location.lng, x),\n              this.resolve(this.transform_parameters.location.lat, x),\n            ],\n          },\n          // \"category_id\": 1013,\n          created_at: Vue.moment(\n            this.resolve(this.transform_parameters.created_at, x)\n          ).format(),\n          updated_at: Vue.moment(\n            this.resolve(this.transform_parameters.updated_at, x)\n          ).format(),\n          description: null,\n          expires_at: null,\n          category: {\n            // \"id\": 1013,\n            name: this.resolve(this.transform_parameters.category_name, x),\n            // \"slug\": \"asdasdlkajsda\",\n            icon: \"/images/marker-01.svg\",\n          },\n        };\n      });\n      return map1;\n    },\n    is_valid() {\n      if (!this.transformed_data || !this.transformed_data[0]) {\n        return false;\n      } else if (!this.transformed_data[0].location.coordinates[0]) {\n        return false;\n      } else if (!this.transformed_data[0].location.coordinates[1]) {\n        return false;\n      } else if (!this.transformed_data[0].id) {\n        return false;\n      } else if (!this.transformed_data[0].category.name) {\n        return false;\n      } else if (!this.transformed_data[0].created_at) {\n        return false;\n      } else if (!this.transformed_data[0].updated_at) {\n        return false;\n      }\n      this.emitNewMarkers();\n      return true;\n    },\n  },\n\n  watch: {},\n  created: function () {\n    // _.debounce is a function provided by lodash to limit how\n    // often a particularly expensive operation can be run.\n    // In this case, we want to limit how often we access\n    // yesno.wtf/api, waiting until the user has completely\n    // finished typing before making the ajax request. To learn\n    // more about the _.debounce function (and its cousin\n    // _.throttle), visit: https://lodash.com/docs#debounce\n    this.debouncedGetAnswer = window._.debounce(this.submitForm, 750);\n  },\n  methods: {\n    resolve(prop, obj) {\n      if (typeof obj !== \"object\") throw \"getProp: obj is not an object\";\n      if (typeof prop !== \"string\") throw \"getProp: prop is not a string\";\n\n      // Replace [] notation with dot notation\n      prop = prop.replace(/\\[[\"'`](.*)[\"'`]\\]/g, \".$1\");\n\n      return prop.split(\".\").reduce(function (prev, curr) {\n        return prev ? prev[curr] : undefined;\n      }, obj || self);\n    },\n    getData() {\n      if (\n        this.endpoint.includes(\"incidents:7888\") ||\n        this.endpoint.includes(\"cartes.io\")\n      ) {\n        this.transform_parameters = {\n          container: \"\",\n          location: {\n            lng: \"location.coordinates.0\",\n            lat: \"location.coordinates.1\",\n          },\n          category_name: \"category.name\",\n          id: \"id\",\n          created_at: \"created_at\",\n          updated_at: \"created_at\",\n        };\n      }\n      axios\n        .get(this.endpoint, {\n          maxContentLength: 20971520, // 20mb\n          timeout: 10 * 1000, // 10 seconds max\n          maxRedirects: 0,\n          transformRequest: [\n            function (data, headers) {\n              delete headers.common[\"X-Requested-With\"];\n              delete headers.common[\"X-CSRF-TOKEN\"];\n              delete headers[\"X-Socket-Id\"];\n              delete headers.common[\"X-Socket-ID\"];\n              return data;\n            },\n          ],\n        })\n        .then((res) => {\n          this.fetched_data = res.data;\n          // console.log(res);\n        })\n        .catch((e) => {\n          console.log(e);\n          // e.request.res.destroy();\n        });\n    },\n    emitNewMarkers() {\n      this.$emit(\"markers-updated\", this.transformed_data);\n    },\n    submitForm(event) {\n      this.submit_data.loading = true;\n      axios\n        .put(\"/api/maps/\" + this.map_id, this.submit_data) // change this to post )\n        .then((res) => {\n          this.submit_data.loading = false;\n          this.$emit(\"map-update\", res.data);\n        })\n        .catch((error) => {\n          this.submit_data.loading = false;\n          console.log(error);\n          let message = \"\";\n          if (error.response.data.errors) {\n            message = Object.entries(error.response.data.errors)\n              .map(\n                ([error_name, error_value], i) =>\n                  `${error_name}: ${error_value[0]} | `\n              )\n              .join(\"\\n\");\n          } else {\n            message = error.response.data.message;\n          }\n          alert(message);\n        });\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/ts-loader/index.js??clonedRuleSet-6[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApiDataTransformerComponent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/ts-loader/index.js??clonedRuleSet-6[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ApiDataTransformerComponent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ApiDataTransformerComponent.vue?vue&type=template&id=572c134f&\"\nimport script from \"./ApiDataTransformerComponent.vue?vue&type=script&lang=ts&\"\nexport * from \"./ApiDataTransformerComponent.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["props","components","data","endpoint","fetched_data","transform_parameters","container","location","lng","lat","category_name","id","created_at","updated_at","mounted","computed","first_data_point","this","transformed_data_post_container","length","data_to_return","Array","isArray","slice","transformed_data","map","x","_this","resolve","type","coordinates","Vue","format","description","expires_at","category","name","icon","is_valid","emitNewMarkers","watch","created","debouncedGetAnswer","window","_","debounce","submitForm","methods","prop","obj","replace","split","reduce","prev","curr","undefined","self","getData","includes","axios","maxContentLength","timeout","maxRedirects","transformRequest","headers","common","then","res","e","console","log","$emit","event","submit_data","loading","map_id","error","message","response","errors","Object","entries","_a","i","error_name","error_value","concat","join","alert","_vm","_h","$createElement","_c","_self","staticClass","key","_m","_v","attrs","directives","rawName","value","expression","domProps","on","$event","target","composing","_e","_s","$set","staticStyle"],"sourceRoot":""}