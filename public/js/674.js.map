{"version":3,"file":"js/674.js","mappings":"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","sources":["webpack://site/./resources/js/components/MapMarkersFeedComponent.vue?8160","webpack://site/./node_modules/vue-loader/lib/index.js","webpack://site/./resources/js/components/MapMarkersFeedComponent.vue?a6ec","webpack://site/./resources/js/components/MapMarkersFeedComponent.vue?1c5f","webpack://site/./resources/js/components/MapMarkersFeedComponent.vue","webpack://site/./resources/js/components/MapMarkersFeedComponent.vue?450f"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/cssWithMappingToString.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"li.feed-element{cursor:pointer;transition:.1s}li.feed-element:hover{background-color:var(--primary)!important}.blink{-webkit-animation:blinker 1.5s cubic-bezier(.5,0,1,1) infinite;animation:blinker 1.5s cubic-bezier(.5,0,1,1) infinite}@-webkit-keyframes blinker{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}@keyframes blinker{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}\", \"\",{\"version\":3,\"sources\":[\"webpack://./resources/js/components/MapMarkersFeedComponent.vue\"],\"names\":[],\"mappings\":\"AAsIA,gBACA,cAAA,CACA,cACA,CAEA,sBACA,yCACA,CAEA,OACA,8DAAA,CAAA,sDACA,CAEA,2BACA,GACA,SAAA,CACA,kBACA,CACA,GACA,SAAA,CACA,kBACA,CACA,CATA,mBACA,GACA,SAAA,CACA,kBACA,CACA,GACA,SAAA,CACA,kBACA,CACA\",\"sourcesContent\":[\"<template>\\n  <div>\\n    <ul id=\\\"marker_feed\\\" class=\\\"list-unstyled px-0 pb-3 mb-3 bg-dark card\\\">\\n      <li\\n        class=\\\"media p-3 card-header\\\"\\n        data-toggle=\\\"collapse\\\"\\n        data-target=\\\"#marker_feed_markers\\\"\\n        aria-expanded=\\\"false\\\"\\n        aria-controls=\\\"marker_feed_markers\\\"\\n        style=\\\"cursor: pointer\\\"\\n      >\\n        <div class=\\\"media-body\\\">\\n          <h5 class=\\\"mt-0 mb-0\\\" v-if=\\\"is_connected_live\\\">\\n            <i class=\\\"fa fa-circle text-danger blink\\\"></i> Live feed\\n          </h5>\\n          <h5 class=\\\"mt-0 mb-0\\\" v-else>Feed</h5>\\n        </div>\\n      </li>\\n      <div\\n        id=\\\"marker_feed_markers\\\"\\n        class=\\\"collapse show\\\"\\n        style=\\\"max-height: 57vh; overflow-y: scroll\\\"\\n      >\\n        <template v-if=\\\"limitedMarkers.length > 0\\\">\\n          <li\\n            class=\\\"\\n              media\\n              ml-3\\n              mr-3\\n              p-3\\n              mb-3\\n              bg-secondary\\n              text-white\\n              card\\n              feed-element\\n            \\\"\\n            v-for=\\\"marker in limitedMarkers\\\"\\n            :key=\\\"'marker_feed_' + marker.id\\\"\\n            @click=\\\"handleClick(marker)\\\"\\n          >\\n            <div class=\\\"media-body\\\">\\n              <h5 class=\\\"mt-0 mb-1\\\">{{ marker.category.name }}</h5>\\n              <p class=\\\"mt-0 mb-1\\\" v-html=\\\"marker.description\\\"></p>\\n              <span class=\\\"timestamp small\\\" :datetime=\\\"marker.updated_at\\\">{{\\n                marker.updated_at\\n              }}</span>\\n              <a\\n                v-if=\\\"marker.link\\\"\\n                class=\\\"badge badge-secondary small\\\"\\n                :href=\\\"marker.link\\\"\\n                target=\\\"blank\\\"\\n                >{{ marker.link.split(\\\"/\\\")[2] }}</a\\n              >\\n            </div>\\n          </li>\\n        </template>\\n        <template v-else>\\n          <div class=\\\"text-center text-muted p-3\\\">\\n            There's no active markers at this time.\\n            <br />\\n            <a href=\\\"#\\\" @click.prevent=\\\"$emit('showAllMarkers')\\\"\\n              >Show all historical markers</a\\n            >\\n          </div>\\n        </template>\\n      </div>\\n    </ul>\\n  </div>\\n</template>\\n<script lang=\\\"ts\\\">\\nexport default {\\n  props: [\\\"markers\\\"],\\n  data() {\\n    return {\\n      is_connected_live: false,\\n    };\\n  },\\n  mounted() {\\n    this.listenForSocketConnect();\\n    this.listenForSocketDisconnect();\\n    // timeago.render(document.querySelectorAll('.timestamp'))\\n  },\\n  computed: {\\n    limitedMarkers() {\\n      if (!this.markers) {\\n        return [];\\n      }\\n      var sorted_markers = this.markers.sort(function (a, b) {\\n        return a.created_at < b.created_at;\\n      });\\n      //return sorted_markers;\\n      return sorted_markers.slice(0, 50);\\n    },\\n  },\\n\\n  watch: {\\n    markers(newValue) {\\n      this.handleNewMarker();\\n    },\\n  },\\n\\n  methods: {\\n    handleClick(marker) {\\n      $(\\\"html\\\").animate(\\n        {\\n          scrollTop: $(\\\"#app\\\").offset().top,\\n        },\\n        200\\n      );\\n\\n      this.$root.$emit(\\\"flyTo\\\", marker.location.coordinates);\\n    },\\n    listenForSocketConnect() {\\n      window.Echo.connector.pusher.connection.bind(\\\"connected\\\", () => {\\n        this.is_connected_live = true;\\n      });\\n    },\\n    listenForSocketDisconnect() {\\n      window.Echo.connector.pusher.connection.bind(\\\"disconnected\\\", () => {\\n        this.is_connected_live = false;\\n      });\\n    },\\n    handleNewMarker() {\\n      $(\\\"#marker_feed_markers\\\").animate(\\n        {\\n          scrollTop: $(\\\"#app\\\").offset().top,\\n        },\\n        200\\n      );\\n    },\\n  },\\n};\\n</script>\\n<style >\\nli.feed-element {\\n  cursor: pointer;\\n  transition: 0.1s;\\n}\\n\\nli.feed-element:hover {\\n  background-color: var(--primary) !important;\\n}\\n\\n.blink {\\n  animation: blinker 1.5s cubic-bezier(0.5, 0, 1, 1) infinite;\\n}\\n\\n@keyframes blinker {\\n  from {\\n    opacity: 1;\\n    transform: scale(0);\\n  }\\n  to {\\n    opacity: 0;\\n    transform: scale(1);\\n  }\\n}\\n</style>\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default {\n  props: [\"markers\"],\n  data() {\n    return {\n      is_connected_live: false,\n    };\n  },\n  mounted() {\n    this.listenForSocketConnect();\n    this.listenForSocketDisconnect();\n    // timeago.render(document.querySelectorAll('.timestamp'))\n  },\n  computed: {\n    limitedMarkers() {\n      if (!this.markers) {\n        return [];\n      }\n      var sorted_markers = this.markers.sort(function (a, b) {\n        return a.created_at < b.created_at;\n      });\n      //return sorted_markers;\n      return sorted_markers.slice(0, 50);\n    },\n  },\n\n  watch: {\n    markers(newValue) {\n      this.handleNewMarker();\n    },\n  },\n\n  methods: {\n    handleClick(marker) {\n      $(\"html\").animate(\n        {\n          scrollTop: $(\"#app\").offset().top,\n        },\n        200\n      );\n\n      this.$root.$emit(\"flyTo\", marker.location.coordinates);\n    },\n    listenForSocketConnect() {\n      window.Echo.connector.pusher.connection.bind(\"connected\", () => {\n        this.is_connected_live = true;\n      });\n    },\n    listenForSocketDisconnect() {\n      window.Echo.connector.pusher.connection.bind(\"disconnected\", () => {\n        this.is_connected_live = false;\n      });\n    },\n    handleNewMarker() {\n      $(\"#marker_feed_markers\").animate(\n        {\n          scrollTop: $(\"#app\").offset().top,\n        },\n        200\n      );\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/ts-loader/index.js??clonedRuleSet-6[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMarkersFeedComponent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../node_modules/ts-loader/index.js??clonedRuleSet-6[0].rules[0]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMarkersFeedComponent.vue?vue&type=script&lang=ts&\"","import api from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-10[0].rules[0].use[1]!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-10[0].rules[0].use[2]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MapMarkersFeedComponent.vue?vue&type=style&index=0&lang=css&\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import { render, staticRenderFns } from \"./MapMarkersFeedComponent.vue?vue&type=template&id=3d720b14&\"\nimport script from \"./MapMarkersFeedComponent.vue?vue&type=script&lang=ts&\"\nexport * from \"./MapMarkersFeedComponent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MapMarkersFeedComponent.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ul',{staticClass:\"list-unstyled px-0 pb-3 mb-3 bg-dark card\",attrs:{\"id\":\"marker_feed\"}},[_c('li',{staticClass:\"media p-3 card-header\",staticStyle:{\"cursor\":\"pointer\"},attrs:{\"data-toggle\":\"collapse\",\"data-target\":\"#marker_feed_markers\",\"aria-expanded\":\"false\",\"aria-controls\":\"marker_feed_markers\"}},[_c('div',{staticClass:\"media-body\"},[(_vm.is_connected_live)?_c('h5',{staticClass:\"mt-0 mb-0\"},[_c('i',{staticClass:\"fa fa-circle text-danger blink\"}),_vm._v(\" Live feed\\n        \")]):_c('h5',{staticClass:\"mt-0 mb-0\"},[_vm._v(\"Feed\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"collapse show\",staticStyle:{\"max-height\":\"57vh\",\"overflow-y\":\"scroll\"},attrs:{\"id\":\"marker_feed_markers\"}},[(_vm.limitedMarkers.length > 0)?_vm._l((_vm.limitedMarkers),function(marker){return _c('li',{key:'marker_feed_' + marker.id,staticClass:\"\\n            media\\n            ml-3\\n            mr-3\\n            p-3\\n            mb-3\\n            bg-secondary\\n            text-white\\n            card\\n            feed-element\\n          \",on:{\"click\":function($event){return _vm.handleClick(marker)}}},[_c('div',{staticClass:\"media-body\"},[_c('h5',{staticClass:\"mt-0 mb-1\"},[_vm._v(_vm._s(marker.category.name))]),_vm._v(\" \"),_c('p',{staticClass:\"mt-0 mb-1\",domProps:{\"innerHTML\":_vm._s(marker.description)}}),_vm._v(\" \"),_c('span',{staticClass:\"timestamp small\",attrs:{\"datetime\":marker.updated_at}},[_vm._v(_vm._s(marker.updated_at))]),_vm._v(\" \"),(marker.link)?_c('a',{staticClass:\"badge badge-secondary small\",attrs:{\"href\":marker.link,\"target\":\"blank\"}},[_vm._v(_vm._s(marker.link.split(\"/\")[2]))]):_vm._e()])])}):[_c('div',{staticClass:\"text-center text-muted p-3\"},[_vm._v(\"\\n          There's no active markers at this time.\\n          \"),_c('br'),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.$emit('showAllMarkers')}}},[_vm._v(\"Show all historical markers\")])])]],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"],"names":["___CSS_LOADER_EXPORT___","push","module","id","props","data","is_connected_live","mounted","this","listenForSocketConnect","listenForSocketDisconnect","computed","limitedMarkers","markers","sort","a","b","created_at","slice","watch","newValue","handleNewMarker","methods","handleClick","marker","$","animate","scrollTop","offset","top","$root","$emit","location","coordinates","window","Echo","connector","pusher","connection","bind","_this","options","_vm","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","length","_l","key","on","$event","_s","category","name","domProps","description","updated_at","link","split","_e","preventDefault"],"sourceRoot":""}